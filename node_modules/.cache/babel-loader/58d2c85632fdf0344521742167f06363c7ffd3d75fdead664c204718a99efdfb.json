{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{AreaChart,Area,XAxis,YAxis,Label,ReferenceLine,Tooltip}from\"recharts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Momentum(props){var _props$data,_props$data$content,_props$data$content$m,_props$data$content$m2,_props$colorData,_props$colorData2;const[chartDimensions,setChartDimensions]=useState({width:800,height:200});const chartContainerRef=useRef(null);useEffect(()=>{const updateDimensions=()=>{if(chartContainerRef.current){const{width,height}=chartContainerRef.current.getBoundingClientRect();setChartDimensions({width,height});}};window.addEventListener(\"resize\",updateDimensions);updateDimensions();return()=>{window.removeEventListener(\"resize\",updateDimensions);};},[props.data]);const data=(_props$data=props.data)===null||_props$data===void 0?void 0:(_props$data$content=_props$data.content)===null||_props$data$content===void 0?void 0:(_props$data$content$m=_props$data$content.momentum)===null||_props$data$content$m===void 0?void 0:(_props$data$content$m2=_props$data$content$m.main)===null||_props$data$content$m2===void 0?void 0:_props$data$content$m2.data;console.log(data);let minutes=[];let values=[];data===null||data===void 0?void 0:data.map((moment,index)=>{minutes.push(moment.minute);values.push(moment.value);});const gradientOffset=()=>{const dataMax=Math.max(...values);const dataMin=Math.min(...values);if(dataMax<=0){return 0;}if(dataMin>=0){return 1;}return dataMax/(dataMax-dataMin);};const off=gradientOffset();return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col rounded-lg pt-4 bg-white brd gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-medium text-base px-4\",children:\"Match Momentum\"}),/*#__PURE__*/_jsx(\"div\",{className:\"brd05\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-32 md:h-64 relative\",ref:chartContainerRef,children:/*#__PURE__*/_jsxs(AreaChart,{width:chartDimensions.width,height:chartDimensions.height-20,data:data,margin:{top:0,right:20,left:-30,bottom:-20},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"minute\",stroke:\"#e8e8e8\",strokeWidth:4,strokeDasharray:\"0.0001, 9.85704\",strokeLinecap:\"round\",tick:false}),/*#__PURE__*/_jsx(YAxis,{strokeWidth:0,tick:false}),/*#__PURE__*/_jsx(ReferenceLine,{x:45,stroke:\"#e8e8e8\",strokeWidth:4,strokeDasharray:\"0.0001, 9.85704\",strokeLinecap:\"round\",label:/*#__PURE__*/_jsx(Label,{position:\"bottom\",offset:-5,value:\"HT\",style:{textAnchor:'middle',fill:'#000',backgroundColor:\"#fff\",padding:\"10px\"}})}),/*#__PURE__*/_jsx(ReferenceLine,{x:0,stroke:\"#fff\",strokeWidth:0,label:/*#__PURE__*/_jsx(Label,{position:\"bottom\",offset:-5,value:\"0'\",style:{textAnchor:'middle',fill:'#000',backgroundColor:\"#fff\",padding:\"10px\"}})}),/*#__PURE__*/_jsx(ReferenceLine,{x:90,stroke:\"#fff\",strokeWidth:0,label:/*#__PURE__*/_jsx(Label,{position:\"bottom\",offset:-5,value:\"FT\",style:{textAnchor:'middle',fill:'#000',backgroundColor:\"#fff\",padding:\"10px\"}})}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"splitColor\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:off,stopColor:(_props$colorData=props.colorData)===null||_props$colorData===void 0?void 0:_props$colorData.home,stopOpacity:1}),/*#__PURE__*/_jsx(\"stop\",{offset:off,stopColor:(_props$colorData2=props.colorData)===null||_props$colorData2===void 0?void 0:_props$colorData2.away,stopOpacity:1})]})}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"value\",strokeWidth:0,fill:\"url(#splitColor)\",fillOpacity:1})]})})]});}export default Momentum;","map":{"version":3,"names":["React","useEffect","useRef","useState","AreaChart","Area","XAxis","YAxis","Label","ReferenceLine","Tooltip","jsx","_jsx","jsxs","_jsxs","Momentum","props","_props$data","_props$data$content","_props$data$content$m","_props$data$content$m2","_props$colorData","_props$colorData2","chartDimensions","setChartDimensions","width","height","chartContainerRef","updateDimensions","current","getBoundingClientRect","window","addEventListener","removeEventListener","data","content","momentum","main","console","log","minutes","values","map","moment","index","push","minute","value","gradientOffset","dataMax","Math","max","dataMin","min","off","className","children","ref","margin","top","right","left","bottom","dataKey","stroke","strokeWidth","strokeDasharray","strokeLinecap","tick","x","label","position","offset","style","textAnchor","fill","backgroundColor","padding","id","x1","y1","x2","y2","stopColor","colorData","home","stopOpacity","away","type","fillOpacity"],"sources":["/Users/lebon/Desktop/el_balon/src/components/matches/Momentum.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport {\n\tAreaChart,\n\tArea,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tReferenceLine,\n\tTooltip\n\t\n  } from \"recharts\";\n\nfunction Momentum(props) {\n\tconst [chartDimensions, setChartDimensions] = useState({ width: 800, height: 200 });\n\tconst chartContainerRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tconst updateDimensions = () => {\n\t\tif (chartContainerRef.current) {\n\t\t\tconst { width, height } = chartContainerRef.current.getBoundingClientRect();\n\t\t\tsetChartDimensions({ width, height });\n\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"resize\", updateDimensions);\n\t\tupdateDimensions();\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", updateDimensions);\n\t\t};\n\t}, [props.data]);\n\n\tconst data = props.data?.content?.momentum?.main?.data;\n\tconsole.log(data);\n\n\tlet minutes = [];\n\tlet values = [];\n\n\tdata?.map((moment, index) => {\n\t\tminutes.push(moment.minute);\n\t\tvalues.push(moment.value);\n\t});\n\n\tconst gradientOffset = () => {\n\t\tconst dataMax = Math.max(...values);\n\t\tconst dataMin = Math.min(...values);\n\n\t\tif (dataMax <= 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (dataMin >= 0) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn dataMax / (dataMax - dataMin);\n\t};\n\n\tconst off = gradientOffset();\n\n\treturn (\n\t\t<div className=\"w-full flex flex-col rounded-lg pt-4 bg-white brd gap-4\">\n\t\t\t<div className=\"text-center font-medium text-base px-4\">Match Momentum</div>\n\t\t\t<div className=\"brd05\"></div>\n\t\t\t<div className=\"h-32 md:h-64 relative\" ref={chartContainerRef}>\n\t\t\t\t<AreaChart width={chartDimensions.width} height={chartDimensions.height -20} data={data} margin={{ top: 0, right: 20, left: -30, bottom: -20}}>\n\t\t\t\t\t<XAxis dataKey={\"minute\"} stroke=\"#e8e8e8\" strokeWidth={4} strokeDasharray=\"0.0001, 9.85704\" strokeLinecap=\"round\" tick={false}/>\n\t\t\t\t\t<YAxis strokeWidth={0} tick={false}/>\n\t\t\t\t\t<ReferenceLine x={45} stroke=\"#e8e8e8\"\n\t\t\t\t\t\tstrokeWidth={4}\n\t\t\t\t\t\tstrokeDasharray=\"0.0001, 9.85704\"\n\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\tlabel= {<Label position='bottom' offset={-5} value=\"HT\" style={{ textAnchor: 'middle', fill: '#000', backgroundColor: \"#fff\", padding: \"10px\" }} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<ReferenceLine x={0}\n\t\t\t\t\t\tstroke=\"#fff\"\n\t\t\t\t\t\tstrokeWidth={0}\n\t\t\t\t\t\tlabel= {<Label position='bottom' offset={-5} value=\"0'\" style={{ textAnchor: 'middle', fill: '#000', backgroundColor: \"#fff\", padding: \"10px\" }} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<ReferenceLine x={90}\n\t\t\t\t\t\tstroke=\"#fff\"\n\t\t\t\t\t\tstrokeWidth={0}\n\t\t\t\t\t\tlabel= {<Label position='bottom' offset={-5} value=\"FT\" style={{ textAnchor: 'middle', fill: '#000', backgroundColor: \"#fff\", padding: \"10px\" }} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<linearGradient id=\"splitColor\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n\t\t\t\t\t\t\t<stop offset={off} stopColor={props.colorData?.home} stopOpacity={1} />\n\t\t\t\t\t\t\t<stop offset={off} stopColor={props.colorData?.away} stopOpacity={1} />\n\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<Area type=\"monotone\" dataKey=\"value\" strokeWidth={0} fill=\"url(#splitColor)\" fillOpacity={1} />\n\t\t\t\t</AreaChart>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Momentum;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}