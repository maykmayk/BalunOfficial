{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import ProvaApi from\"../api/ProvaApi\";import Layout from\"../components/Layout/Layout\";import LeagueDetailsTop from\"../components/League/LeagueDetailsTop\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Leagues=()=>{const{id}=useParams();const apiProva=new ProvaApi();const[leagueData,setLeagueData]=useState([]);useEffect(()=>{const fetchLeague=async()=>{try{const responseLeagueData=await apiProva.makeRequest(\"api/leagues?id=\".concat(id,\"&ccode3=ITA\"));setLeagueData(responseLeagueData.data);}catch(error){console.log(error);}};fetchLeague();},[id]);const[totwData,setTotwData]=useState([]);useEffect(()=>{const fetchTotw=async()=>{try{var _leagueData$matches,_leagueData$matches$f;const responseTotwData=await apiProva.makeRequest(\"api/team-of-the-week/team?leagueId=\".concat(id,\"&roundId=\").concat((leagueData===null||leagueData===void 0?void 0:(_leagueData$matches=leagueData.matches)===null||_leagueData$matches===void 0?void 0:(_leagueData$matches$f=_leagueData$matches.firstUnplayedMatch)===null||_leagueData$matches$f===void 0?void 0:_leagueData$matches$f.firstRoundWithUnplayedMatch)-1,\"&season=2023%2F2024\"));setTotwData(responseTotwData);console.log(totwData);}catch(error){console.log(error);}};fetchTotw();},[id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Layout,{}),/*#__PURE__*/_jsx(\"div\",{className:\"text-black flex flex-col p-4 gap-3\",children:/*#__PURE__*/_jsx(LeagueDetailsTop,{totwData:totwData,data:leagueData,leagueId:id})})]});};export default Leagues;","map":{"version":3,"names":["useEffect","useState","useParams","ProvaApi","Layout","LeagueDetailsTop","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Leagues","id","apiProva","leagueData","setLeagueData","fetchLeague","responseLeagueData","makeRequest","concat","data","error","console","log","totwData","setTotwData","fetchTotw","_leagueData$matches","_leagueData$matches$f","responseTotwData","matches","firstUnplayedMatch","firstRoundWithUnplayedMatch","children","className","leagueId"],"sources":["/Users/lebon/Desktop/el_balon/src/pages/Leagues.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ProvaApi from \"../api/ProvaApi\";\nimport Layout from \"../components/Layout/Layout\";\nimport LeagueDetailsTop from \"../components/League/LeagueDetailsTop\";\n\nconst Leagues = () => {\n\tconst {id} = useParams();\n    const apiProva = new ProvaApi();\n    const [leagueData, setLeagueData] = useState([]);\n\n\tuseEffect(() => {\n        const fetchLeague = async () => {\n            try {\n                const responseLeagueData = await apiProva.makeRequest(`api/leagues?id=${id}&ccode3=ITA`);\n                setLeagueData(responseLeagueData.data);  \n            } catch (error) {\n                console.log(error);\n            }\n        };\n\n        fetchLeague(); \n\n    }, [id]);\n\n\tconst [totwData, setTotwData] = useState([]);\n\n\tuseEffect(() => {\n        const fetchTotw = async () => {\n            try {\n                const responseTotwData = await apiProva.makeRequest(`api/team-of-the-week/team?leagueId=${id}&roundId=${leagueData?.matches?.firstUnplayedMatch?.firstRoundWithUnplayedMatch-1}&season=2023%2F2024`);\n                setTotwData(responseTotwData);  \n                console.log(totwData)\n            } catch (error) {\n                console.log(error);\n            }\n        };\n\n        fetchTotw(); \n\n    }, [id]);\n\n\treturn (\n\t\t<>\n\t\t\t<Layout />\n\t\t\t<div className=\"text-black flex flex-col p-4 gap-3\">\n\t\t\t\t<LeagueDetailsTop totwData={totwData} data={leagueData} leagueId={id}/>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Leagues;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,iBAAiB,CACtC,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,MAAO,CAAAC,gBAAgB,KAAM,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErE,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,EAAE,CAAC,CAAGX,SAAS,CAAC,CAAC,CACrB,KAAM,CAAAY,QAAQ,CAAG,GAAI,CAAAX,QAAQ,CAAC,CAAC,CAC/B,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEnDD,SAAS,CAAC,IAAM,CACT,KAAM,CAAAiB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACA,KAAM,CAAAC,kBAAkB,CAAG,KAAM,CAAAJ,QAAQ,CAACK,WAAW,mBAAAC,MAAA,CAAmBP,EAAE,eAAa,CAAC,CACxFG,aAAa,CAACE,kBAAkB,CAACG,IAAI,CAAC,CAC1C,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CACJ,CAAC,CAEDL,WAAW,CAAC,CAAC,CAEjB,CAAC,CAAE,CAACJ,EAAE,CAAC,CAAC,CAEX,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACT,KAAM,CAAA2B,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,KAAAC,mBAAA,CAAAC,qBAAA,CACA,KAAM,CAAAC,gBAAgB,CAAG,KAAM,CAAAhB,QAAQ,CAACK,WAAW,uCAAAC,MAAA,CAAuCP,EAAE,cAAAO,MAAA,CAAY,CAAAL,UAAU,SAAVA,UAAU,kBAAAa,mBAAA,CAAVb,UAAU,CAAEgB,OAAO,UAAAH,mBAAA,kBAAAC,qBAAA,CAAnBD,mBAAA,CAAqBI,kBAAkB,UAAAH,qBAAA,iBAAvCA,qBAAA,CAAyCI,2BAA2B,EAAC,CAAC,uBAAqB,CAAC,CACpMP,WAAW,CAACI,gBAAgB,CAAC,CAC7BP,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC,CACzB,CAAE,MAAOH,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CACJ,CAAC,CAEDK,SAAS,CAAC,CAAC,CAEf,CAAC,CAAE,CAACd,EAAE,CAAC,CAAC,CAEX,mBACCF,KAAA,CAAAF,SAAA,EAAAyB,QAAA,eACC3B,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,QAAK4B,SAAS,CAAC,oCAAoC,CAAAD,QAAA,cAClD3B,IAAA,CAACF,gBAAgB,EAACoB,QAAQ,CAAEA,QAAS,CAACJ,IAAI,CAAEN,UAAW,CAACqB,QAAQ,CAAEvB,EAAG,CAAC,CAAC,CACnE,CAAC,EACL,CAAC,CAEL,CAAC,CAED,cAAe,CAAAD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}