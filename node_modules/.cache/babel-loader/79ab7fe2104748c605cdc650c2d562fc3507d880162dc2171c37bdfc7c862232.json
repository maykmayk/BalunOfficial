{"ast":null,"code":"import _construct from \"@babel/runtime/helpers/esm/construct\";\nimport React from 'react';\nimport { Spring } from '../utils/spring';\nimport useGetLatest from './useGetLatest';\nexport function useSpring(value, config, cb, immediate, _debug) {\n  var springRef = React.useRef(_construct(Spring, [value].concat(config)));\n  var getValue = useGetLatest(value);\n  var _useRaf = useRaf(function () {\n      cb(springRef.current.x());\n      return springRef.current.done();\n    }),\n    startRaf = _useRaf[0],\n    stopRaf = _useRaf[1];\n  var prevRef = React.useRef();\n  var changed = prevRef.current !== value;\n  React.useEffect(function () {\n    if (changed) {\n      if (immediate) {\n        springRef.current.snap(getValue());\n        startRaf();\n        return;\n      }\n      springRef.current.setEnd(value);\n      startRaf();\n    }\n    prevRef.current = value;\n  });\n  React.useEffect(function () {\n    return function () {\n      stopRaf();\n    };\n  }, [stopRaf]);\n  return springRef.current;\n}\nexport function useRaf(callback) {\n  var raf = React.useRef(null);\n  var rafCallback = React.useRef(callback);\n  rafCallback.current = callback;\n  var tick = React.useCallback(function () {\n    if (rafCallback.current()) return;\n    raf.current = requestAnimationFrame(tick);\n  }, []);\n  return [React.useMemo(function () {\n    return tick;\n  }, [tick]), React.useMemo(function () {\n    return function () {\n      return raf.current && cancelAnimationFrame(raf.current);\n    };\n  }, [])];\n} // Test","map":{"version":3,"names":["_construct","React","Spring","useGetLatest","useSpring","value","config","cb","immediate","_debug","springRef","useRef","concat","getValue","_useRaf","useRaf","current","x","done","startRaf","stopRaf","prevRef","changed","useEffect","snap","setEnd","callback","raf","rafCallback","tick","useCallback","requestAnimationFrame","useMemo","cancelAnimationFrame"],"sources":["/Users/lebon/Desktop/el_balon/node_modules/react-charts/es/hooks/useSpring.js"],"sourcesContent":["import _construct from \"@babel/runtime/helpers/esm/construct\";\nimport React from 'react';\nimport { Spring } from '../utils/spring';\nimport useGetLatest from './useGetLatest';\nexport function useSpring(value, config, cb, immediate, _debug) {\n  var springRef = React.useRef(_construct(Spring, [value].concat(config)));\n  var getValue = useGetLatest(value);\n\n  var _useRaf = useRaf(function () {\n    cb(springRef.current.x());\n    return springRef.current.done();\n  }),\n      startRaf = _useRaf[0],\n      stopRaf = _useRaf[1];\n\n  var prevRef = React.useRef();\n  var changed = prevRef.current !== value;\n  React.useEffect(function () {\n    if (changed) {\n      if (immediate) {\n        springRef.current.snap(getValue());\n        startRaf();\n        return;\n      }\n\n      springRef.current.setEnd(value);\n      startRaf();\n    }\n\n    prevRef.current = value;\n  });\n  React.useEffect(function () {\n    return function () {\n      stopRaf();\n    };\n  }, [stopRaf]);\n  return springRef.current;\n}\nexport function useRaf(callback) {\n  var raf = React.useRef(null);\n  var rafCallback = React.useRef(callback);\n  rafCallback.current = callback;\n  var tick = React.useCallback(function () {\n    if (rafCallback.current()) return;\n    raf.current = requestAnimationFrame(tick);\n  }, []);\n  return [React.useMemo(function () {\n    return tick;\n  }, [tick]), React.useMemo(function () {\n    return function () {\n      return raf.current && cancelAnimationFrame(raf.current);\n    };\n  }, [])];\n} // Test"],"mappings":"AAAA,OAAOA,UAAU,MAAM,sCAAsC;AAC7D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,iBAAiB;AACxC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAO,SAASC,SAASA,CAACC,KAAK,EAAEC,MAAM,EAAEC,EAAE,EAAEC,SAAS,EAAEC,MAAM,EAAE;EAC9D,IAAIC,SAAS,GAAGT,KAAK,CAACU,MAAM,CAACX,UAAU,CAACE,MAAM,EAAE,CAACG,KAAK,CAAC,CAACO,MAAM,CAACN,MAAM,CAAC,CAAC,CAAC;EACxE,IAAIO,QAAQ,GAAGV,YAAY,CAACE,KAAK,CAAC;EAElC,IAAIS,OAAO,GAAGC,MAAM,CAAC,YAAY;MAC/BR,EAAE,CAACG,SAAS,CAACM,OAAO,CAACC,CAAC,CAAC,CAAC,CAAC;MACzB,OAAOP,SAAS,CAACM,OAAO,CAACE,IAAI,CAAC,CAAC;IACjC,CAAC,CAAC;IACEC,QAAQ,GAAGL,OAAO,CAAC,CAAC,CAAC;IACrBM,OAAO,GAAGN,OAAO,CAAC,CAAC,CAAC;EAExB,IAAIO,OAAO,GAAGpB,KAAK,CAACU,MAAM,CAAC,CAAC;EAC5B,IAAIW,OAAO,GAAGD,OAAO,CAACL,OAAO,KAAKX,KAAK;EACvCJ,KAAK,CAACsB,SAAS,CAAC,YAAY;IAC1B,IAAID,OAAO,EAAE;MACX,IAAId,SAAS,EAAE;QACbE,SAAS,CAACM,OAAO,CAACQ,IAAI,CAACX,QAAQ,CAAC,CAAC,CAAC;QAClCM,QAAQ,CAAC,CAAC;QACV;MACF;MAEAT,SAAS,CAACM,OAAO,CAACS,MAAM,CAACpB,KAAK,CAAC;MAC/Bc,QAAQ,CAAC,CAAC;IACZ;IAEAE,OAAO,CAACL,OAAO,GAAGX,KAAK;EACzB,CAAC,CAAC;EACFJ,KAAK,CAACsB,SAAS,CAAC,YAAY;IAC1B,OAAO,YAAY;MACjBH,OAAO,CAAC,CAAC;IACX,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACb,OAAOV,SAAS,CAACM,OAAO;AAC1B;AACA,OAAO,SAASD,MAAMA,CAACW,QAAQ,EAAE;EAC/B,IAAIC,GAAG,GAAG1B,KAAK,CAACU,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAIiB,WAAW,GAAG3B,KAAK,CAACU,MAAM,CAACe,QAAQ,CAAC;EACxCE,WAAW,CAACZ,OAAO,GAAGU,QAAQ;EAC9B,IAAIG,IAAI,GAAG5B,KAAK,CAAC6B,WAAW,CAAC,YAAY;IACvC,IAAIF,WAAW,CAACZ,OAAO,CAAC,CAAC,EAAE;IAC3BW,GAAG,CAACX,OAAO,GAAGe,qBAAqB,CAACF,IAAI,CAAC;EAC3C,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,CAAC5B,KAAK,CAAC+B,OAAO,CAAC,YAAY;IAChC,OAAOH,IAAI;EACb,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC,EAAE5B,KAAK,CAAC+B,OAAO,CAAC,YAAY;IACpC,OAAO,YAAY;MACjB,OAAOL,GAAG,CAACX,OAAO,IAAIiB,oBAAoB,CAACN,GAAG,CAACX,OAAO,CAAC;IACzD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC,CAAC;AACT,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}